(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9546],{90531:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/expenses",function(){return l(5551)}])},46068:function(e,s,l){"use strict";var a=l(85893),n=l(67294),t=l(51649),i=l(72121);s.Z=e=>{let{curAsset:s,mutate:l,closeAssetModel:d}=e,[o,r]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[x,m]=(0,n.useState)("approve");return(0,a.jsxs)("section",{className:"p-5 w-full bg-white flex flex-col admin-gap",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"graph-title",children:"Approval Status"}),(0,a.jsx)("div",{onClick:()=>{d&&d()},className:"cursor-pointer text-xl text-youtube",children:(0,a.jsx)(t.abH,{})})]}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"approve",name:"approvalStatus",checked:"approve"===x,onChange:()=>m("approve")}),(0,a.jsx)("label",{htmlFor:"approve",children:"Approve"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"unapprove",name:"approvalStatus",checked:"unapprove"===x,onChange:()=>m("unapprove")}),(0,a.jsx)("label",{htmlFor:"unapprove",children:"Unapprove by HR"})]})]}),"unapprove"===x&&(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Reason:",c),r(!1)},children:[(0,a.jsxs)("div",{className:"flex flex-col admin-gap justify-center col-span-12",children:[(0,a.jsx)("div",{className:"font-semibold text-primary-text",children:"Reason for Unapproval"}),(0,a.jsx)(i.UP,{fullWidth:!0,name:"reason",type:"text",multiline:!0,rows:4,value:c,onChange:e=>u(e.target.value),onBlur:()=>{},error:!1,helperText:""},"")]}),(0,a.jsx)("button",{type:"submit",className:"flex mt-5 items-center px-2 py-1 rounded-md bg-pink-blue text-white col-span-12 justify-center flex-col gap-2 pt-2",children:"Submit Reason"})]})]})}},5551:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return ExpensesPage}});var a=l(85893),n=l(50675),t=l(46068),i=l(61284),d=l(16631),o=l(90465),r=l(31383),c=l(11163),u=l.n(c),x=l(67294),m=l(47516),p=l(63750),h=l(70231),v=l(2585),j=l(96225);let f=[{title:"Total paid amount of this month :",rupees:"68,909",icon:(0,a.jsx)(h.uou,{}),value:"18%",iconStyle:"text-pink-blue bg-pink-blue/10"},{title:"Total unpaid amount of this month :",rupees:"6,489",icon:(0,a.jsx)(v.Nkh,{}),value:"16%",iconStyle:"text-secondary bg-secondary/10"},{title:"Total payable amount of this month:",rupees:"70,909",icon:(0,a.jsx)(v.QQ8,{}),value:"14%",iconStyle:"text-youtube bg-youtube/10"}];function ExpensesPage(){var e,s,l;let[h,v]=(0,x.useState)(""),[g,N]=(0,x.useState)(!1),[b,y]=(0,x.useState)(""),{role:w}=(0,c.useRouter)().query,[k,P]=(0,x.useState)(!1),[S,D]=(0,x.useState)(!1),[A,E]=(0,x.useState)(0),[R,_]=(0,x.useState)(20),C=(0,x.useDeferredValue)(null==b?void 0:b.trim()),[H,O]=(0,x.useState)(),V="expense-travels?perPage=".concat(R,"&pageNo=").concat(A,"&isTotalData=true");(null==C?void 0:C.length)>0&&(V+="&search=".concat(C)),h&&(V+="&expensesName=".concat(h));let{data:Z,isValidating:F}=(0,i.Z)(V),T=[{label:"Download as CSV",icon:(0,a.jsx)(j.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,a.jsx)(j.Bmg,{className:"text-secondary"})}];return(0,a.jsx)(d.lq,{title:"Expenses",children:(0,a.jsxs)("aside",{className:"admin-container flex flex-col admin-gap",children:[(0,a.jsx)(n.cIA,{heading:"Expenses",pathArr:(0,o.OA1)(w),setIsList:D}),(0,a.jsx)("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5",children:null==f?void 0:f.map((e,s)=>(0,a.jsxs)("div",{className:"p-5 bg-white rounded-md flex justify-between ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-primary-text",children:null==e?void 0:e.title}),(0,a.jsx)("p",{className:" text-3xl font-medium text-primary ",children:null==e?void 0:e.rupees}),(0,a.jsxs)("p",{className:" text-secondary font-semibold text-lg",children:[null==e?void 0:e.value," ",(0,a.jsx)("small",{className:"text-primary-text text-sm font-medium",children:"more than last month"})]})]}),(0,a.jsx)("div",{className:"text-3xl p-2 rounded-md h-fit w-fit ".concat(null==e?void 0:e.iconStyle),children:null==e?void 0:e.icon})]},s))}),(0,a.jsxs)("div",{className:"p-5 bg-white rounded-lg w-full grid grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(n.f9m,{setSortingValue:v,sortingSchema:[{key:"2",placeHolder:"Select",name:"sort",type:"select",value:h,initialValue:"",options:[{label:"Paid",value:"paid"},{label:"Un Paid",value:"unpaid"},{label:"Date Ascending",value:"ascending"},{label:"Date Descending",value:"descending"}]}]})}),(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(n.Nyn,{placeholder:"Search Employee...",setSearchAttribute:y,searchAttribute:b})}),(0,a.jsxs)("div",{className:"lg:col-span-4 col-span-12 flex justify-end items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(r.Z,{title:"Create Expense",children:(0,a.jsx)("div",{className:"flex justify-center items-center text-xl common-transition text-primary w-10 h-10 rounded-md border bg-primary/5",onClick:()=>u().push("/panel/".concat(w,"/expenses/create-expense")),children:(0,a.jsx)(m.ffM,{})})}),(0,a.jsx)("div",{children:(0,a.jsx)(n.o6G,{exportArray:T})})]}),(0,a.jsx)("div",{className:"w-full flex items-end justify-end",children:(0,a.jsx)(n.tlE,{currentPage:A,perPage:R,setCurrentPage:E,totalCount:null==Z?void 0:Z.totalCount,setPerPage:_,lastPage:!(null==Z?void 0:Z.haveNextPage)})})]})]}),F?S?(0,a.jsx)("div",{className:"flex flex-col gap-4 border items-center justify-center rounded w-full",children:[void 0].map((e,s)=>(0,a.jsx)(ManageBranchListDesignSkeleton,{},s))}):(0,a.jsx)("div",{className:"w-full grid md:grid-cols-2  lg:grid-cols-3 admin-gap",children:[...Array(12)].map((e,s)=>(0,a.jsx)(HrExpenseSkeleton,{},s))}):S?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:" hidden md:flex flex-col common-card overflow-hidden",children:[(0,a.jsxs)("div",{className:" grid grid-cols-6 text-sm font-semibold px-5 py-3 bg-pink-blue/70 text-white shadow-lg rounded-t-md",children:[(0,a.jsx)("div",{className:"col-span-1",children:"Sl no."}),(0,a.jsx)("div",{className:"col-span-2 ",children:"Name"}),(0,a.jsx)("div",{className:"col-span-1",children:"Phone"}),(0,a.jsx)("div",{className:"col-span-1",children:"Status"}),(0,a.jsx)("div",{className:"col-span-1",children:"Action"})]}),(0,a.jsx)("div",{className:"w-full flex flex-col bg-white shadow-shadow-primary rounded-b-md ",children:null==Z?void 0:null===(e=Z.data)||void 0===e?void 0:e.map((e,s)=>{var l,n,t;return(0,a.jsxs)("div",{className:"grid items-center grid-cols-6 p-3 ".concat(s%2==0?"":"bg-primary/5 border-y"),children:[(0,a.jsx)("div",{className:"col-span-1",children:s+1}),(0,a.jsxs)("div",{className:"col-span-2 flex flex-col text-primary-text ",children:[(0,a.jsx)("span",{className:"text-black font-medium",children:null==e?void 0:null===(l=e.user)||void 0===l?void 0:l.name}),(0,a.jsx)("span",{className:"text-primary-text text-sm font-medium",children:null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.email})]}),(0,a.jsx)("div",{className:"col-span-1",children:null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.phoneNumber}),(0,a.jsx)("div",{className:"flex flex-col gap-1 col-span-1  ",children:(0,a.jsx)("button",{className:" w-fit font-medium  rounded  ".concat((null==e?void 0:e.status)==="HR_APPROVED"?"text-secondary ":"text-youtube/80 "," "),children:(null==e?void 0:e.status)==="HR_APPROVED"?"HR_APPROVED":"HOD_APPROVED"})}),(0,a.jsxs)("div",{className:"col-span-1 flex gap-2",children:[(0,a.jsx)(r.Z,{title:"Approval Staus",children:(0,a.jsx)("button",{onClick:()=>N(!0),className:"bg-secondary/10 text-secondary p-2 rounded text-lg cursor-pointer ",children:(0,a.jsx)(m.DkZ,{})})}),(0,a.jsx)(r.Z,{title:"Details",children:(0,a.jsx)("div",{className:"bg-pink-blue/10 cursor-pointer text-pink-blue p-2 rounded",onClick:()=>{P(!0),O(e)},children:(0,a.jsx)(p.Hfo,{})})})]})]},s)})})]})}):(0,a.jsx)(a.Fragment,{children:(null==Z?void 0:Z.data)&&(null==Z?void 0:null===(s=Z.data)||void 0===s?void 0:s.length)>0?(0,a.jsx)("section",{className:" grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1  gap-6 ",children:null==Z?void 0:null===(l=Z.data)||void 0===l?void 0:l.map((e,s)=>{var l,n,t;return(0,a.jsxs)("div",{className:"bg-white p-5 text-gray-500 flex flex-col gap-2 text-sm rounded-md",children:[(0,a.jsxs)("div",{className:"flex justify-between  pb-5",children:[(0,a.jsx)("img",{src:"https://img.freepik.com/free-psd/3d-illustration-human-avatar-profile_23-2150671116.jpg?w=740&t=st=1696504029~exp=1696504629~hmac=61ab3802cfb8832e7b3c070ff027fd27b04cbab2ed40c4a7288eaae37354a895",alt:"profile",className:"w-20 rounded-full"}),(0,a.jsx)("div",{className:"flex flex-col gap-1  ",children:(0,a.jsx)("button",{className:"px-2 py-1 w-full font-medium text-xs rounded  ".concat((null==e?void 0:e.status)==="HR_APPROVED"?"text-secondary bg-secondary/10":"text-youtube bg-youtube/10"," "),children:(null==e?void 0:e.status)==="HR_APPROVED"?"HR_APPROVED":"HOD_APPROVED"})})]}),(0,a.jsxs)("p",{children:["Name : ",null==e?void 0:null===(l=e.user)||void 0===l?void 0:l.name]}),(0,a.jsxs)("p",{children:["Email : ",null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.email]}),(0,a.jsxs)("p",{children:["Phone : ",null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.phoneNumber]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"cursor-pointer px-2 py-1 bg-twitter rounded text-white hover:underline ",onClick:()=>{P(!0),O(e)},children:"View Details"}),(0,a.jsx)(r.Z,{title:"Approval Staus",children:(0,a.jsx)("button",{onClick:()=>N(!0),className:"text-secondary/90 text-lg cursor-pointer ",children:(0,a.jsx)(m.DkZ,{})})})]})]},s)})}):(0,a.jsx)(n.moz,{title:"No Expense Found"})}),(0,a.jsx)(n.QAJ,{maxWidth:"sm",paperProps:{style:{borderRadius:18}},open:g,onClose:()=>N(!1),children:(0,a.jsx)(t.Z,{closeAssetModel:()=>N(!1)})}),(0,a.jsx)(n.a92,{openDrawer:k,setOpenDrawer:P,data:H})]})})}let HrExpenseSkeleton=()=>(0,a.jsx)("section",{children:(0,a.jsx)("div",{className:"w-full admin-card rounded-md  min-h-[15rem]",children:(0,a.jsxs)("div",{className:"w-full flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full skeleton"}),(0,a.jsx)("div",{className:"w-28 h-6 rounded skeleton"})]}),(0,a.jsxs)("div",{className:"flex justify-start flex-col gap-2",children:[(0,a.jsx)("div",{className:"w-36 h-4 rounded skeleton"}),(0,a.jsx)("div",{className:"w-44 h-4 rounded skeleton"}),(0,a.jsx)("div",{className:"w-32 h-4 rounded skeleton"})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,a.jsx)("div",{className:"w-36 h-7 rounded-md skeleton"}),(0,a.jsx)("div",{className:"w-7 h-7 rounded-md skeleton"})]})]})})}),ManageBranchListDesignSkeleton=()=>(0,a.jsxs)("div",{className:"w-full bg-white rounded min-h-[6rem]",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2 p-6 skeleton rounded font-semibold "}),(0,a.jsx)("div",{children:Array.from({length:15}).map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-6 gap-2 p-5 rounded-t-md font-semibold",children:[(0,a.jsx)("div",{className:"skeleton col-span-1 w-6 rounded h-5"}),(0,a.jsx)("div",{className:"skeleton w-48 col-span-2 rounded h-10"}),(0,a.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,a.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,a.jsxs)("div",{className:"col-span-1 flex gap-2 ",children:[(0,a.jsx)("div",{className:"h-7 w-7 rounded skeleton"}),(0,a.jsx)("div",{className:"h-7 w-7 rounded skeleton"})]})]},s))})]})}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=90531)}),_N_E=e.O()}]);