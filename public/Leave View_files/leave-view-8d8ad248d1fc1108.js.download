(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1830],{13633:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/leave/leave-view",function(){return a(88022)}])},88022:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return LeaveView}});var s=a(85893),n=a(50675),t=a(91362),d=a(61284),i=a(16631),o=a(93946),c=a(67294),r=a(51649),p=a(96225);function LeaveView(){var e,l;let[a,u]=(0,c.useState)(!1),{user:m}=(0,t.Z)(),[x,v]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[j,f]=(0,c.useState)(0),[N,b]=(0,c.useState)(20),w=(0,c.useDeferredValue)(null==g?void 0:g.trim()),y="apply-leave?userId=".concat(null==m?void 0:m.id,"&perPage=").concat(N,"&pageNo=").concat(j,"&isTotalData=true");(null==w?void 0:w.length)>0&&(y+="&search=".concat(w));let{data:P,isValidating:k,mutate:S}=(0,d.Z)(y),_=[{label:"Download as CSV",icon:(0,s.jsx)(p.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,s.jsx)(p.Bmg,{className:"text-secondary"})}];return(0,s.jsx)(i.lq,{title:"Leave View",children:(0,s.jsxs)("section",{className:"admin-container flex flex-col admin-gap",children:[(0,s.jsx)(n.VPW,{}),(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("div",{className:"text-md font-semibold text-primary-text border-b-2 border-secondary w-fit",children:"History"})}),(0,s.jsxs)("div",{className:"admin-bg rounded-lg w-full grid grid-cols-12 items-center gap-4",children:[(0,s.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,s.jsx)(n.f9m,{setSortingValue:v,sortingSchema:[{key:"2",placeHolder:"Select  Status",name:"sort",type:"select",value:x,initialValue:"",options:[{label:"Pending",value:"Pending"},{label:"Approved",value:"Approved"},{label:"Rejected",value:"Rejected"}]}]})}),(0,s.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12 flex flex-col admin-gap",children:(0,s.jsxs)("div",{className:"col-span-12 md:col-span-12 lg:col-span-9 flex flex-col md:flex-row items-center gap-2 md:gap-3",children:[(0,s.jsx)("div",{className:"flex items-center gap-3 order-2 md:order-1"}),(0,s.jsxs)("div",{className:"lg:col-span-4 md:col-span-3 col-span-12 flex justify-end md:justify-start items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"!text-instagram !rounded-md border bg-primary/5",onClick:()=>S(),disabled:k,children:(0,s.jsx)(r.Fer,{className:"text-xl ".concat(k?"animate-spin":"")})}),(0,s.jsx)("button",{disabled:(null==g?void 0:g.length)<=0&&(null==x?void 0:x.length)<=0&&0===j&&20===N,onClick:()=>{v(""),h(""),f(0),b(20)},className:"px-2 py-2 rounded-md text-xs  ".concat((null==g?void 0:g.length)<=0&&0===j&&(null==x?void 0:x.length)<=0&&20===N?"bg-pink-blue/5 text-pink-blue/40 cursor-not-allowed":"!text-pink-blue ripple bg-pink-blue/10"),children:"Reset All"})]})]})}),(0,s.jsxs)("div",{className:"lg:col-span-4 md:col-span-12 col-span-12 flex gap-2 justify-end items-center",children:[(0,s.jsx)(n.tlE,{currentPage:j,perPage:N,setCurrentPage:f,totalCount:null==P?void 0:P.totalCount,setPerPage:b,lastPage:!(null==P?void 0:P.haveNextPage)}),(0,s.jsx)(n.o6G,{exportArray:_})]})]}),(0,s.jsxs)("div",{className:" hidden md:flex flex-col common-card overflow-hidden",children:[(0,s.jsxs)("div",{className:" grid grid-cols-12 text-sm font-semibold px-5 py-2 bg-dark/30 text-white shadow-lg rounded-t-md",children:[(0,s.jsx)("div",{className:"col-span-1",children:"Sl No."}),(0,s.jsx)("div",{className:"col-span-3",children:"Applied On"}),(0,s.jsx)("div",{className:"col-span-2",children:"Leave date"}),(0,s.jsx)("div",{className:"col-span-1",children:"Leave Type"}),(0,s.jsx)("div",{className:"col-span-3",children:"Reason"}),(0,s.jsx)("div",{className:"col-span-1 text-center",children:"Status"})]}),(null==P?void 0:null===(e=P.data)||void 0===e?void 0:e.length)?(0,s.jsx)("div",{className:"w-full flex flex-col bg-white shadow-shadow-primary rounded-b-md ",children:null==P?void 0:null===(l=P.data)||void 0===l?void 0:l.map((e,l)=>(0,s.jsx)(n.R4P,{i:l,data:e},l))}):(0,s.jsx)(n.moz,{title:"No Leave Found"})]}),(0,s.jsx)(n.QAJ,{maxWidth:"md",paperProps:{style:{borderRadius:18}},open:a,onClose:()=>u(!1),children:(0,s.jsx)(n.wtH,{setOpenRequestLeaveModal:u})})]})})}}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=13633)}),_N_E=e.O()}]);