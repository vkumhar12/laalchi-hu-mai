(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3361],{44485:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/my-team/team-requested-leave",function(){return a(67886)}])},67886:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return TeamRequestedLeave}});var s=a(85893),t=a(50675),d=a(91362),n=a(61284),i=a(16631),r=a(90465),o=a(11163),c=a(67294),u=a(63750),m=a(96225);function TeamRequestedLeave(){var e,l,a,v;let[p,x]=(0,c.useState)(""),[h,j]=(0,c.useState)(""),[g,f]=(0,c.useState)(0),[N,w]=(0,c.useState)(20),[y,b]=(0,c.useState)(!1),{role:k}=(0,o.useRouter)().query,{query:S}=(0,o.useRouter)(),{user:P}=(0,d.Z)(),L=[{label:"Filter All",icon:(0,s.jsx)(u.r0X,{}),defaultFunction:()=>b(!0)}],{data:_,isValidating:F,mutate:A}=(0,n.Z)("apply-leave?".concat(k?"status=Pending":"employeeStatus=Pending").concat(k&&(null==P?void 0:null===(e=P.department)||void 0===e?void 0:e.id)?"&departmentId="+(null==P?void 0:null===(l=P.department)||void 0===l?void 0:l.id):"")),D=[{label:"Download as CSV",icon:(0,s.jsx)(m.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,s.jsx)(m.Bmg,{className:"text-secondary"})}];return(0,s.jsxs)(i.lq,{title:"Requested Leaves",children:[(0,s.jsx)(t.VE2,{openFilterDrawer:y,setOpenFilterDrawer:b,allFilterArr:[{title:"Select Filter Type",data:[{label:"Last 7 Days",value:"last7days"},{label:"Last Week",value:"lastWeek"},{label:"This Month",value:"thisMonth"},{label:"Last 30 Days",value:"last30days"},{label:"Last Month",value:"lastMonth"}]}]}),(0,s.jsxs)("section",{className:"admin-container flex flex-col admin-gap",children:[(0,s.jsx)(t.cIA,{heading:"Requested Leaves",pathArr:(0,r.kct)(k)}),(0,s.jsxs)("div",{className:"admin-bg rounded-lg w-full grid grid-cols-12 gap-4",children:[(0,s.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,s.jsx)(t.f9m,{setSortingValue:x,sortingSchema:[{key:"2",placeHolder:"Select Type Of Leave",name:"sort",type:"select",value:p,initialValue:"",options:[{label:"Paid",value:"paid"},{label:"Unpaid",value:"unpaid"},{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Rejected",value:"rejected"},{label:"Past Leave",value:"pastLeave"}]}]})}),(0,s.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,s.jsx)(t.Nyn,{placeholder:"Search Employee...",setSearchAttribute:j,searchAttribute:h})}),(0,s.jsx)("div",{className:"lg:col-span-4 col-span-12 flex justify-end items-end",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{children:(0,s.jsx)(t.o6G,{exportArray:D})}),(0,s.jsx)("div",{children:(0,s.jsx)(t._F$,{optionsArray:L})})]})})]}),(0,s.jsx)("div",{className:"flex justify-end items-end",children:(0,s.jsx)(t.tlE,{currentPage:g,perPage:N,setCurrentPage:f,totalCount:20,setPerPage:w,lastPage:!1})}),F?(0,s.jsx)("div",{className:"w-full grid md:grid-cols-2 lg:grid-cols-3 admin-gap",children:[...Array(10)].map((e,l)=>(0,s.jsx)(LeaveSkeleton,{},l))}):(0,s.jsx)(s.Fragment,{children:(null==_?void 0:_.data)&&(null==_?void 0:null===(a=_.data)||void 0===a?void 0:a.length)>0?(0,s.jsx)("div",{className:"w-full grid md:grid-cols-2 lg:grid-cols-3 admin-gap",children:null==_?void 0:null===(v=_.data)||void 0===v?void 0:v.map((e,l)=>(0,s.jsx)(t.Z$t,{data:e,mutate:A},l))}):(0,s.jsx)(t.moz,{title:"No Data Found"})})]})]})}let LeaveSkeleton=()=>(0,s.jsx)("section",{className:"",children:(0,s.jsxs)("div",{className:"flex flex-col bg-white rounded-md shadow-md  gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-center p-2",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-full skeleton"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"w-44 h-2 rounded-md skeleton"}),(0,s.jsx)("div",{className:"w-32 h-2 rounded-md skeleton"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 px-4",children:[(0,s.jsx)("div",{className:"w-full h-4 rounded-md skeleton"}),(0,s.jsx)("div",{className:"w-full h-4 rounded-md skeleton"})]}),(0,s.jsx)("div",{className:"w-full h-10 rounded-md skeleton"})]})})}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=44485)}),_N_E=e.O()}]);