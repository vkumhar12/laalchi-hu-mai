(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6462],{41179:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/employee",function(){return s(60872)}])},60872:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return EmployeePage}});var a=s(85893),n=s(50675),d=s(61284),o=s(16631),t=s(90465),i=s(93946),c=s(11163),r=s(67294),u=s(8193),m=s(63750),p=s(51649),x=s(96225);function EmployeePage(){var e,l,s,h,v;let{push:g}=(0,c.useRouter)(),[j,N]=(0,r.useState)(""),[f,w]=(0,r.useState)(""),[b,k]=(0,r.useState)(0),[y,E]=(0,r.useState)(20),[S,F]=(0,r.useState)(!1),[_,A]=(0,r.useState)(!1),P=(0,r.useDeferredValue)(null==f?void 0:f.trim()),{role:D}=(0,c.useRouter)().query,{data:C}=(0,d.Z)("department"),V="user?perPage=".concat(y,"&pageNo=").concat(b,"&isTotalData=true");(null==P?void 0:P.length)>0&&(V+="&search=".concat(P)),j&&(V+="&".concat(j,"=true"));let{data:L,isValidating:B,mutate:T,error:I}=(0,d.Z)(V),M=[{key:"2",placeHolder:"Select Department",name:"sort",type:"select",value:j,initialValue:"",options:(null==C?void 0:C.data)&&(null==C?void 0:null===(e=C.data)||void 0===e?void 0:e.length)>0?null==C?void 0:null===(l=C.data)||void 0===l?void 0:l.map(e=>{var l;return{value:null==e?void 0:null===(l=e._id)||void 0===l?void 0:l.$oid,label:null==e?void 0:e.title}}):[]}],R=[{label:"Add Employee",icon:(0,a.jsx)(p.gyF,{}),defaultFunction:()=>g("/panel/".concat(D,"/employee/add-employee"))},{label:"View Sample",icon:(0,a.jsx)(u.gbC,{}),defaultFunction:()=>g("/Igca_Bulk_Upload.xlsx")},{label:"Bulk Upload",icon:(0,a.jsx)(x.bpq,{}),defaultFunction:()=>g("/panel/".concat(D,"/employee/bulk-upload"))},{label:"Filter All",icon:(0,a.jsx)(m.r0X,{}),defaultFunction:()=>F(!0)}],q=[{label:"Download as CSV",icon:(0,a.jsx)(x.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,a.jsx)(x.Bmg,{className:"text-secondary"})}];return(0,a.jsxs)(o.lq,{title:"Employee",children:[(0,a.jsx)(n.VE2,{openFilterDrawer:S,setOpenFilterDrawer:F,allFilterArr:[{title:"Select Filter Type",data:[{label:"Block",value:"block"},{label:"Un Block",value:"unBlock"},{label:"Last 7 Days",value:"last7days"},{label:"Last Week",value:"lastWeek"},{label:"This Month",value:"thisMonth"},{label:"Last 30 Days",value:"last30days"},{label:"Last Month",value:"lastMonth"}]}]}),(0,a.jsxs)("section",{className:"admin-container flex flex-col admin-gap",children:[(0,a.jsx)(n.cIA,{heading:"Employee",pathArr:(0,t.Vfo)(D),setIsList:A}),(0,a.jsxs)("div",{className:"admin-bg rounded-lg w-full grid grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-3 md:col-span-4 col-span-12",children:(0,a.jsx)(n.f9m,{setSortingValue:N,sortingSchema:M})}),(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-5 col-span-12",children:(0,a.jsx)(n.Nyn,{placeholder:"Search Department...",setSearchAttribute:w,searchAttribute:f})}),(0,a.jsxs)("div",{className:"lg:col-span-4 md:col-span-3 col-span-12 flex justify-end md:justify-start items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"!text-instagram !rounded-md border bg-primary/5",onClick:()=>T(),disabled:B,children:(0,a.jsx)(p.Fer,{className:"text-xl ".concat(B?"animate-spin":"")})}),(0,a.jsx)("button",{disabled:(null==f?void 0:f.length)<=0&&(null==j?void 0:j.length)<=0&&0===b&&20===y,onClick:()=>{N(""),w(""),k(0),E(20)},className:"px-2 py-2 rounded-md text-xs  ".concat((null==f?void 0:f.length)<=0&&0===b&&(null==j?void 0:j.length)<=0&&20===y?"bg-pink-blue/5 text-pink-blue/40 cursor-not-allowed":"!text-pink-blue ripple bg-pink-blue/10"),children:"Reset All"})]}),(0,a.jsxs)("div",{className:"col-span-12 flex gap-4  justify-end items-center",children:[(0,a.jsx)(n.tlE,{currentPage:b,perPage:y,setCurrentPage:k,totalCount:null==L?void 0:L.totalCount,setPerPage:E,lastPage:!(null==L?void 0:L.haveNextPage)}),(0,a.jsx)("div",{children:(0,a.jsx)(n._F$,{optionsArray:R})}),(0,a.jsx)(n.o6G,{exportArray:q})]})]}),B?_?(0,a.jsx)("div",{className:"flex flex-col gap-4 border items-center justify-center rounded w-full",children:[void 0].map((e,l)=>(0,a.jsx)(EmployeeListViewSkeleton,{},l))}):(0,a.jsx)("div",{className:"grid 2xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5 pt-2",children:[...Array(12)].map((e,l)=>(0,a.jsx)(EmployeeSkeleton,{},l))}):_?(0,a.jsx)("div",{className:"max-w-full overflow-x-scroll scroll-bar-none",children:(0,a.jsxs)("div",{className:"flex flex-col min-w-[55rem]",children:[(0,a.jsxs)("div",{className:" grid grid-cols-7 text-sm font-semibold px-5 py-3 bg-pink-blue/70 text-white shadow-lg rounded-t-md",children:[(0,a.jsx)("div",{className:"col-span-1",children:"Sl no."}),(0,a.jsx)("div",{className:"col-span-2 ",children:"Name"}),(0,a.jsx)("div",{className:"col-span-1 ",children:"Emp Id"}),(0,a.jsx)("div",{className:"col-span-2",children:"Dept"}),(0,a.jsx)("div",{className:"col-span-1",children:"Action"})]}),(0,a.jsx)("div",{className:"w-full flex flex-col bg-white shadow-shadow-primary rounded-b-md ",children:null==L?void 0:null===(s=L.data)||void 0===s?void 0:s.map((e,l)=>(0,a.jsx)(n.zil,{mutate:T,curEmployee:e,i:l},l))})]})}):(0,a.jsx)(a.Fragment,{children:(null==L?void 0:L.data)&&(null==L?void 0:null===(h=L.data)||void 0===h?void 0:h.length)>0?(0,a.jsx)("div",{className:"grid 2xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5 pt-2",children:null==L?void 0:null===(v=L.data)||void 0===v?void 0:v.map((e,l)=>(0,a.jsx)(n.J0n,{curEmployee:e,mutate:T},l))}):(0,a.jsx)(n.moz,{title:"No Employee Found"})})]})]})}let EmployeeSkeleton=()=>(0,a.jsx)("div",{className:"w-full admin-card p-3 md:p-5 min-h-[25rem]",children:(0,a.jsxs)("div",{className:"w-full flex justify-center items-center gap-5 flex-col h-full",children:[(0,a.jsx)("div",{className:"w-28 h-28 rounded-full skeleton"}),(0,a.jsxs)("div",{className:"w-full flex flex-col gap-4 items-center justify-center",children:[(0,a.jsx)("p",{className:"w-28 skeleton h-3 rounded-lg"}),(0,a.jsx)("p",{className:"w-36 skeleton h-2 rounded-lg"}),(0,a.jsx)("p",{className:"w-1/2 skeleton h-3 rounded-lg"}),(0,a.jsx)("p",{className:"w-1/2 skeleton h-3 rounded-lg"}),(0,a.jsx)("p",{className:"w-28 skeleton h-3 rounded-lg"}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("div",{className:"w-10 h-4 rounded-lg skeleton"}),(0,a.jsx)("p",{className:"w-10 skeleton h-5 rounded-3xl"})]})]}),(0,a.jsxs)("div",{className:"w-full pt-3 flex items-center justify-center gap-3",children:[(0,a.jsx)("div",{className:"w-14 h-7 skeleton rounded-lg"}),(0,a.jsx)("div",{className:"w-14 h-7 skeleton rounded-lg"}),(0,a.jsx)("div",{className:"w-14 h-7 skeleton rounded-lg"})]})]})}),EmployeeListViewSkeleton=()=>(0,a.jsx)("div",{className:"max-w-full overflow-x-scroll scroll-bar-none",children:(0,a.jsxs)("div",{className:"w-full bg-white rounded min-h-[6rem] min-w-[55rem]",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2 p-6 skeleton rounded font-semibold "}),(0,a.jsx)("div",{children:Array.from({length:15}).map((e,l)=>(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-2 p-5 rounded-t-md font-semibold",children:[(0,a.jsx)("div",{className:"skeleton col-span-1 w-6 rounded h-5"}),(0,a.jsx)("div",{className:"skeleton w-44 col-span-2 rounded h-7"}),(0,a.jsx)("div",{className:"skeleton w-28 col-span-1 rounded h-7"}),(0,a.jsx)("div",{className:"skeleton w-16 col-span-1 rounded h-5"}),(0,a.jsx)("div",{className:"skeleton w-16 col-span-1 rounded h-5"}),(0,a.jsxs)("div",{className:"col-span-1 flex gap-2 ",children:[(0,a.jsx)("div",{className:"h-7 w-7 rounded skeleton"}),(0,a.jsx)("div",{className:"h-7 w-7 rounded skeleton"}),(0,a.jsx)("div",{className:"h-7 w-7 rounded skeleton"})]})]},l))})]})})}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=41179)}),_N_E=e.O()}]);