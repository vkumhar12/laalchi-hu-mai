"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3342],{83342:function(e,s,l){l.d(s,{Gy:function(){return AddLoanForm},Wb:function(){return ClearedLoans},i3:function(){return CreateLoanForm},ur:function(){return LoanComponent},WH:function(){return LoanDetailModal},jF:function(){return LoanMiniCard},pr:function(){return LoanRequest},lG:function(){return ManageLoanCard},gZ:function(){return PolicySetting}});var a=l(85893),n=l(78741),t=l(5152),i=l.n(t);let d=i()(()=>Promise.all([l.e(296),l.e(9464)]).then(l.bind(l,79464)),{loadableGenerated:{webpack:()=>[79464]},ssr:!1}),o={loop:!0,autoplay:!0,animationData:n.el,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};function ClearedLoans(){return(0,a.jsx)("section",{className:"flex justify-center items-center",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6 items-center",children:[(0,a.jsx)(d,{options:o,height:300,width:300}),(0,a.jsx)("p",{children:"No Data Found"})]})})}var c=l(50675),r=l(31383),m=l(67294),x=l(96225),u=l(79352);function LoanComponent(){var e;let[s,l]=(0,m.useState)(""),[n,t]=(0,m.useState)(0),[i,d]=(0,m.useState)(!1),o=[{title:"Outstanding Loans",value:(0,a.jsx)(ManageLoanCard,{})},{title:"Cleared Loans",value:(0,a.jsx)(ClearedLoans,{})},{title:"Loan Request",value:(0,a.jsx)(LoanRequest,{})}],p=[{label:"Download as CSV",icon:(0,a.jsx)(x.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,a.jsx)(x.Bmg,{className:"text-secondary"})}];return(0,a.jsxs)("section",{className:"flex flex-col admin-gap",children:[(0,a.jsx)("section",{className:"flex admin-gap",children:(0,a.jsx)(LoanMiniCard,{})}),(0,a.jsx)("section",{className:"admin-bg flex flex-col gap-4 rounded-md",children:(0,a.jsxs)("div",{className:" rounded-lg w-full grid grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,a.jsx)(c.Nyn,{placeholder:"Search Here...",setSearchAttribute:l,searchAttribute:s})}),(0,a.jsxs)("div",{className:"flex items-end justify-end gap-3 md:col-span-6 col-span-12",children:[(0,a.jsx)("div",{children:(0,a.jsx)(c.o6G,{exportArray:p})}),(0,a.jsx)(r.Z,{title:"Add Loan",children:(0,a.jsx)("div",{onClick:()=>d(!0),className:"flex justify-center items-center text-xl common-transition text-primary w-10 h-10 rounded-md border bg-primary/5 cursor-pointer",children:(0,a.jsx)(u.uGf,{})})})]})]})}),(0,a.jsx)("div",{className:"flex admin-gap bg-white p-4 w-fit shadow-md  rounded-md",children:null==o?void 0:o.map((e,s)=>(0,a.jsx)("div",{onClick:()=>t(s),className:"",children:(0,a.jsx)("p",{className:"text-sm cursor-pointer px-6 py-2 ".concat(n===s?"bg-secondary text-white  rounded-full shadow-md ":"bg-secondary/10 rounded-full shadow-md"),children:null==e?void 0:e.title})},s))}),null===(e=o[n])||void 0===e?void 0:e.value]})}let p=[{title:"Principal Balance",amount:"â‚¹ 0",icon:"/admin/employee/balance.png",color:"text-whatsapp/70"},{title:"Ongoing EMI",amount:"6",icon:"/admin/employee/emi.png",color:"text-pink-blue/70"},{title:"Ongoing Loans",amount:"2",icon:"/admin/employee/ongoing.png",color:"text-pinterest/70"},{title:"Loan Issued",amount:"3",icon:"/admin/employee/issued.png",color:"text-instagram/70"}];function LoanMiniCard(){return(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 w-full admin-gap",children:null==p?void 0:p.map((e,s)=>(0,a.jsxs)("div",{className:"admin-card flex justify-between items-center text-primary-text",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-medium ".concat(null==e?void 0:e.color),children:null==e?void 0:e.amount}),(0,a.jsx)("h1",{className:"text-sm font-medium",children:null==e?void 0:e.title})]}),(0,a.jsx)("img",{src:null==e?void 0:e.icon,alt:"",className:" md:w-16 md:h-16 w-12 h-12"})]},s))})}var h=l(72121),j=l(61284),g=l(60155),v=l(55788);let f=i()(()=>Promise.all([l.e(296),l.e(9464)]).then(l.bind(l,79464)),{loadableGenerated:{webpack:()=>[79464]},ssr:!1}),N={loop:!0,autoplay:!0,animationData:n.el,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};function LoanRequest(){let[e,s]=(0,m.useState)(!1),{data:l,mutate:n,isValidating:t}=(0,j.Z)("loanDashBoard/loans-requests"),[i,d]=(0,m.useState)();return(0,a.jsxs)("section",{className:"flex flex-col admin-gap",children:[t?(0,a.jsx)("div",{className:"w-full grid md:grid-cols-2 2xl:grid-cols-3 lg:grid-cols-3 admin-gap",children:[...Array(9)].map((e,s)=>(0,a.jsx)(LoanRequestSkeleton,{},s))}):(0,a.jsx)(a.Fragment,{children:l&&(null==l?void 0:l.length)>0?(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4 items-center",children:null==l?void 0:l.map((e,l)=>{var n,t,i;return(0,a.jsxs)("div",{className:" bg-white rounded-md shadow-md flex flex-col gap-6 p-4 relative group",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-5 items-center",children:[(0,a.jsx)("p",{className:" col-span-2 text-sm font-medium ",children:"Name"}),(0,a.jsxs)("p",{className:"text-sm col-span-3 text-primary-text",children:[": ",null==e?void 0:null===(n=e.loanType)||void 0===n?void 0:n.name]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 items-center",children:[(0,a.jsx)("p",{className:" col-span-2 text-sm font-medium ",children:"Interest Type"}),(0,a.jsxs)("p",{className:"text-sm col-span-3 text-primary-text",children:[": ",null==e?void 0:null===(t=e.loanType)||void 0===t?void 0:t.interestType]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 items-center",children:[(0,a.jsx)("p",{className:" col-span-2 text-sm font-medium ",children:"Interest Rate"}),(0,a.jsxs)("p",{className:"text-sm col-span-3 text-primary-text",children:[": ",null==e?void 0:null===(i=e.loanType)||void 0===i?void 0:i.interestRate]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 items-center",children:[(0,a.jsxs)("div",{className:"bg-secondary/10 px-4 py-1 flex gap-1 items-center rounded-md cursor-pointer text-secondary",children:[(0,a.jsx)(g.kme,{}),(0,a.jsx)("p",{className:"text-sm",children:"Approve"})]}),(0,a.jsxs)("div",{className:"bg-youtube/10 px-4 py-1 flex gap-1 items-center rounded-md cursor-pointer text-youtube",children:[(0,a.jsx)(v.$iT,{}),(0,a.jsx)("p",{className:"text-sm",children:"Reject"})]})]}),(0,a.jsx)("div",{className:"top-2 right-2 absolute hidden group-hover:block",children:(0,a.jsx)(r.Z,{title:"Details",children:(0,a.jsx)("div",{onClick:()=>{s(!0),d(e)},className:"bg-instagram p-1 flex  justify-center items-center rounded-md cursor-pointer text-white",children:(0,a.jsx)(g.ib5,{className:"text-xl"})})})})]},l)})}):(0,a.jsxs)("div",{className:"flex flex-col gap-6 items-center",children:[(0,a.jsx)(f,{options:N,height:300,width:300}),(0,a.jsx)("p",{children:"No Data Found"})]})}),(0,a.jsx)(h.QA,{maxWidth:"xs",sx:{borderRadius:10},open:e,onClose:()=>s(!1),children:(0,a.jsx)(LoanDetailModal,{setOpenDetailModal:s,data:i})})]})}let LoanRequestSkeleton=()=>(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"bg-white rounded-md p-4 shadow-md flex flex-col gap-6 ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,a.jsx)("p",{className:"w-24 h-3 skeleton rounded-md"}),(0,a.jsx)("p",{className:" w-32 h-3 skeleton rounded-md"})]}),(0,a.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,a.jsx)("p",{className:"w-24 h-3 skeleton rounded-md"}),(0,a.jsx)("p",{className:" w-32 h-3 skeleton rounded-md"})]}),(0,a.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,a.jsx)("p",{className:"w-24 h-3 skeleton rounded-md"}),(0,a.jsx)("p",{className:" w-32 h-3 skeleton rounded-md"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,a.jsx)("div",{className:"w-20 h-10 skeleton rounded-md"}),(0,a.jsx)("div",{className:"w-20 h-10 skeleton rounded-md"})]})]})});var y=l(42978),b=l(8193);let w=[{src:"",name:"HDFC Loan",amount:"0",outstanding:"0",emi:"0",status:"Ongoing"},{src:"",name:"HDFC Loan",amount:"0",outstanding:"0",emi:"0",status:"Ongoing"},{src:"",name:"HDFC Loan",amount:"0",outstanding:"0",emi:"0",status:"Completed"},{src:"",name:"HDFC Loan",amount:"0",outstanding:"0",emi:"0",status:"Ongoing"},{src:"",name:"HDFC Loan",amount:"0",outstanding:"0",emi:"0",status:"Pending"},{src:"",name:"HDFC Loan",amount:"0",outstanding:"0",emi:"0",status:"Completed"}];function ManageLoanCard(){return(0,y.mr)(.8),(0,a.jsx)("div",{className:"w-full flex flex-col admin-gap",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 admin-gap ",children:[null==w?void 0:w.map((e,s)=>(0,a.jsxs)("div",{className:"bg-white rounded-md shadow-md",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 p-4",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Name :"}),(0,a.jsx)("p",{className:"font-medium",children:null==e?void 0:e.name})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Loan Amount :"}),(0,a.jsx)("p",{className:"font-medium",children:null==e?void 0:e.amount})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Outstanding Amount :"}),(0,a.jsx)("p",{className:"font-medium",children:null==e?void 0:e.outstanding})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Emi Amount :"}),(0,a.jsx)("p",{className:"font-medium",children:null==e?void 0:e.emi})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Status :"}),(0,a.jsx)("div",{className:" text-sm px-2 py-1 rounded-md font-medium ".concat((null==e?void 0:e.status)==="Completed"?"text-whatsapp ":(null==e?void 0:e.status)==="Pending"?"text-pinterest ":"text-linkedin"," "),children:null==e?void 0:e.status})]})]}),(0,a.jsx)("div",{className:" bg-primary/70 rounded-br-md rounded-bl-md p-2 text-white",children:(0,a.jsxs)("div",{className:"flex gap-2 items-center justify-center cursor-pointer",children:[(0,a.jsx)(b.$iz,{className:"text-lg"}),(0,a.jsx)("p",{className:"text-sm",children:"Edit"})]})})]},s)),(0,a.jsx)("div",{className:""})]})})}let L=i()(()=>Promise.all([l.e(296),l.e(9464)]).then(l.bind(l,79464)),{loadableGenerated:{webpack:()=>[79464]},ssr:!1}),C={loop:!0,autoplay:!0,animationData:n.el,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};function PolicySetting(){return(0,a.jsx)("section",{className:"flex justify-center items-center",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6 items-center",children:[(0,a.jsx)(L,{options:C,height:300,width:300}),(0,a.jsx)("p",{children:"No Data Found"})]})})}var k=l(36623),S=l(46085),D=l(82175),F=l(16310),A=l(8093);function AddLoanForm(e){let{setOpenAddLoanModal:s}=e,{mutation:l,isLoading:n}=(0,k.Z)(),{addLoanSchema:t,addLoanSchemaInitialValue:i,addLoanSchemaValidation:d}=(0,S.qY)(),handleAddLoan=async(e,l)=>{try{var a;let e;console.log(e),(null==e?void 0:null===(a=e.results)||void 0===a?void 0:a.success)&&(l.resetForm(),s(!1))}catch(e){(0,A.Z)(e)}};return(0,a.jsxs)("section",{className:"w-full p-3 md:p-5 lg:p-8 bg-white flex flex-col gap-4 md:gap-6 lg:gap-8",children:[(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-primary-text",children:"Details"}),(0,a.jsx)("p",{className:"   cursor-pointer ",children:(0,a.jsx)(b.oHP,{className:"text-youtube bg-youtube/10 p-2 !w-8 !h-8 rounded-full",onClick:()=>{s(!1)}})})]}),(0,a.jsx)(D.J9,{initialValues:i,validationSchema:F.Ry(d),onSubmit:handleAddLoan,children:e=>(0,a.jsxs)(D.l0,{className:"grid grid-cols-12 gap-4 px-8",children:[t.map(s=>(0,a.jsx)(D.gN,{name:s.name,children:l=>(0,a.jsxs)("div",{className:"flex w-full flex-col justify-center ".concat(null==s?void 0:s.className),children:[(0,a.jsxs)("div",{className:"font-medium text-sm  ".concat((null==s?void 0:s.key)?"text-dark/60":"text-secondary"),children:[s.label," ",(0,a.jsx)("span",{children:(null==s?void 0:s.required)?"*":""})]}),(null==s?void 0:s.key)?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.UP,{fullWidth:!0,name:null==s?void 0:s.name,type:null==s?void 0:s.type,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values[null==s?void 0:s.name],options:null==s?void 0:s.options,multiline:null==s?void 0:s.multiline,rows:null==s?void 0:s.rows},null==s?void 0:s.key),(0,a.jsxs)("p",{className:"absolute -bottom-5 text-youtube/80 text-sm",children:[!!((null==e?void 0:e.touched[null==s?void 0:s.name])&&(null==e?void 0:e.errors[null==s?void 0:s.name])),(null==e?void 0:e.touched[null==s?void 0:s.name])&&(null==e?void 0:e.errors[null==s?void 0:s.name])]})]}):""]})},s.key)),(0,a.jsx)("div",{className:"flex items-center col-span-12 justify-center flex-col gap-2 pt-2",children:(0,a.jsx)(h.S0,{title:"Send",loading:n,type:"submit",className:"btn-primary py-3 rounded-md w-full"})})]})})]})}function LoanDetailModal(e){var s,l,n;let{setOpenDetailModal:t,data:i}=e;return(0,a.jsxs)("section",{className:"w-full p-3 md:p-5 lg:p-8 bg-white flex flex-col gap-4 md:gap-6 lg:gap-8",children:[(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-primary-text",children:"Details"}),(0,a.jsx)("p",{className:"   cursor-pointer ",children:(0,a.jsx)(b.oHP,{className:"text-youtube bg-youtube/10 p-2 !w-8 !h-8 rounded-md c",onClick:()=>{t(!1)}})})]}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-5 items-center",children:[(0,a.jsx)("p",{className:" col-span-2 text-sm font-medium ",children:"Name"}),(0,a.jsxs)("p",{className:"text-sm col-span-3 text-primary-text",children:[": ",null==i?void 0:null===(s=i.loanType)||void 0===s?void 0:s.name]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 items-center",children:[(0,a.jsx)("p",{className:" col-span-2 text-sm font-medium ",children:"Interest Type"}),(0,a.jsxs)("p",{className:"text-sm col-span-3 text-primary-text",children:[": ",null==i?void 0:null===(l=i.loanType)||void 0===l?void 0:l.interestType]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 items-center",children:[(0,a.jsx)("p",{className:" col-span-2 text-sm font-medium ",children:"Interest Rate"}),(0,a.jsxs)("p",{className:"text-sm col-span-3 text-primary-text",children:[": ",null==i?void 0:null===(n=i.loanType)||void 0===n?void 0:n.interestRate]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 items-center",children:[(0,a.jsx)("p",{className:" col-span-2 text-sm font-medium ",children:"Message"}),(0,a.jsxs)("p",{className:"text-sm col-span-3 text-primary-text",children:[": ",null==i?void 0:i.message]})]})]})})]})}function CreateLoanForm(e){let{setOpenCreateForm:s,mutate:l}=e,{mutation:n,isLoading:t}=(0,k.Z)(),{createLoanSchema:i,createLoanSchemaInitialValue:d,createLoanSchemaValidation:o}=(0,S.ES)(),handleCreateLoan=async(e,a)=>{try{var t;let i;i=await n("loan/loan-type",{method:"POST",isAlert:!0,body:{...e}}),console.log(i),(null==i?void 0:null===(t=i.results)||void 0===t?void 0:t.success)&&(a.resetForm(),s(!1),l())}catch(e){(0,A.Z)(e)}};return(0,a.jsxs)("section",{className:"w-full p-3 md:p-5 lg:p-8 bg-white flex flex-col gap-4 md:gap-6 lg:gap-8",children:[(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-primary-text",children:"Create Loan"}),(0,a.jsx)("p",{className:"   cursor-pointer ",children:(0,a.jsx)(b.oHP,{className:"text-youtube bg-youtube/10 p-2 !w-8 !h-8 rounded-full",onClick:()=>{s(!1)}})})]}),(0,a.jsx)(D.J9,{initialValues:d,validationSchema:F.Ry(o),onSubmit:handleCreateLoan,children:e=>(0,a.jsxs)(D.l0,{className:"grid grid-cols-12 gap-4 px-8",children:[i.map(s=>(0,a.jsx)(D.gN,{name:s.name,children:l=>(0,a.jsxs)("div",{className:"flex w-full flex-col justify-center ".concat(null==s?void 0:s.className),children:[(0,a.jsxs)("div",{className:"font-medium text-sm  ".concat((null==s?void 0:s.key)?"text-dark/60":"text-secondary"),children:[s.label," ",(0,a.jsx)("span",{children:(null==s?void 0:s.required)?"*":""})]}),(null==s?void 0:s.key)?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.UP,{fullWidth:!0,name:null==s?void 0:s.name,type:null==s?void 0:s.type,onChange:e.handleChange,onBlur:e.handleBlur,value:e.values[null==s?void 0:s.name],options:null==s?void 0:s.options},null==s?void 0:s.key),(0,a.jsxs)("p",{className:"absolute -bottom-5 text-youtube/80 text-sm",children:[!!((null==e?void 0:e.touched[null==s?void 0:s.name])&&(null==e?void 0:e.errors[null==s?void 0:s.name])),(null==e?void 0:e.touched[null==s?void 0:s.name])&&(null==e?void 0:e.errors[null==s?void 0:s.name])]})]}):""]})},s.key)),(0,a.jsx)("div",{className:"flex items-center col-span-12 justify-center flex-col gap-2 pt-2",children:(0,a.jsx)(h.S0,{title:"Create Loan Type",loading:t,type:"submit",className:"btn-primary py-3 rounded-md w-full"})})]})})]})}l(33183)}}]);