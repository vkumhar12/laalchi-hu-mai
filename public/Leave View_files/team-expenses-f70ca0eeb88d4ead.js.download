(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[561],{11719:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/my-team/team-expenses",function(){return l(57722)}])},46068:function(e,s,l){"use strict";var a=l(85893),t=l(67294),n=l(51649),i=l(72121);s.Z=e=>{let{curAsset:s,mutate:l,closeAssetModel:r}=e,[d,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[x,p]=(0,t.useState)("approve");return(0,a.jsxs)("section",{className:"p-5 w-full bg-white flex flex-col admin-gap",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"graph-title",children:"Approval Status"}),(0,a.jsx)("div",{onClick:()=>{r&&r()},className:"cursor-pointer text-xl text-youtube",children:(0,a.jsx)(n.abH,{})})]}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"approve",name:"approvalStatus",checked:"approve"===x,onChange:()=>p("approve")}),(0,a.jsx)("label",{htmlFor:"approve",children:"Approve"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"radio",id:"unapprove",name:"approvalStatus",checked:"unapprove"===x,onChange:()=>p("unapprove")}),(0,a.jsx)("label",{htmlFor:"unapprove",children:"Unapprove by HR"})]})]}),"unapprove"===x&&(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Reason:",c),o(!1)},children:[(0,a.jsxs)("div",{className:"flex flex-col admin-gap justify-center col-span-12",children:[(0,a.jsx)("div",{className:"font-semibold text-primary-text",children:"Reason for Unapproval"}),(0,a.jsx)(i.UP,{fullWidth:!0,name:"reason",type:"text",multiline:!0,rows:4,value:c,onChange:e=>u(e.target.value),onBlur:()=>{},error:!1,helperText:""},"")]}),(0,a.jsx)("button",{type:"submit",className:"flex mt-5 items-center px-2 py-1 rounded-md bg-pink-blue text-white col-span-12 justify-center flex-col gap-2 pt-2",children:"Submit Reason"})]})]})}},57722:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return TeamExpensesPage}});var a=l(85893),t=l(50675),n=l(46068),i=l(91362),r=l(61284),d=l(16631),o=l(31383),c=l(11163),u=l.n(c),x=l(67294),p=l(47516),m=l(70231),h=l(2585),v=l(96225);let j=[{title:"Total paid amount of this month :",rupees:"68,909",icon:(0,a.jsx)(m.uou,{}),value:"18%",iconStyle:"text-pink-blue bg-pink-blue/10"},{title:"Total unpaid amount of this month :",rupees:"6,489",icon:(0,a.jsx)(h.Nkh,{}),value:"16%",iconStyle:"text-secondary bg-secondary/10"},{title:"Total payable amount of this month:",rupees:"70,909",icon:(0,a.jsx)(h.QQ8,{}),value:"14%",iconStyle:"text-youtube bg-youtube/10"}];function TeamExpensesPage(){var e,s;let[l,m]=(0,x.useState)(""),[h,f]=(0,x.useState)(!1),[g,N]=(0,x.useState)(""),[b,y]=(0,x.useState)(!1),{role:w}=(0,c.useRouter)().query,[S,k]=(0,x.useState)(!1),[P,E]=(0,x.useState)(0),[D,_]=(0,x.useState)(20),C=(0,x.useDeferredValue)(null==g?void 0:g.trim()),[A,R]=(0,x.useState)(),[H,T]=(0,x.useState)(),{user:V}=(0,i.Z)(),O="expense-travels?perPage=".concat(D,"&pageNo=").concat(P,"&isTotalData=true");(null==C?void 0:C.length)>0&&(O+="&search=".concat(C)),l&&(O+="&expensesName=".concat(l));let{data:Z,isValidating:F,mutate:U}=(0,r.Z)(O),Q=[{label:"Download as CSV",icon:(0,a.jsx)(v.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,a.jsx)(v.Bmg,{className:"text-secondary"})}];return(0,a.jsx)(d.lq,{title:"Expenses",children:(0,a.jsxs)("aside",{className:"admin-container flex flex-col admin-gap",children:[(0,a.jsx)("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5",children:null==j?void 0:j.map((e,s)=>(0,a.jsxs)("div",{className:"p-5 bg-white rounded-md flex justify-between ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-primary-text",children:null==e?void 0:e.title}),(0,a.jsx)("p",{className:" text-3xl font-medium text-primary ",children:null==e?void 0:e.rupees}),(0,a.jsxs)("p",{className:" text-secondary font-semibold text-lg",children:[null==e?void 0:e.value," ",(0,a.jsx)("small",{className:"text-primary-text text-sm font-medium",children:"more than last month"})]})]}),(0,a.jsx)("div",{className:"text-3xl p-2 rounded-md h-fit w-fit ".concat(null==e?void 0:e.iconStyle),children:null==e?void 0:e.icon})]},s))}),(0,a.jsxs)("div",{className:"p-5 bg-white rounded-lg w-full grid grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(t.f9m,{setSortingValue:m,sortingSchema:[{key:"2",placeHolder:"Select",name:"sort",type:"select",value:l,initialValue:"",options:[{label:"Paid",value:"paid"},{label:"Un Paid",value:"unpaid"},{label:"Date Ascending",value:"ascending"},{label:"Date Descending",value:"descending"}]}]})}),(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(t.Nyn,{placeholder:"Search Employee...",setSearchAttribute:N,searchAttribute:g})}),(0,a.jsxs)("div",{className:"lg:col-span-4 col-span-12 flex justify-end items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Z,{title:"Create Expense",children:(0,a.jsx)("div",{className:"flex justify-center items-center text-xl common-transition text-primary w-10 h-10 rounded-md border bg-primary/5",onClick:()=>u().push("/panel/".concat(w,"/expenses/create-expense")),children:(0,a.jsx)(p.ffM,{})})}),(0,a.jsx)("div",{children:(0,a.jsx)(t.o6G,{exportArray:Q})})]}),(0,a.jsx)("div",{className:"w-full flex items-end justify-end",children:(0,a.jsx)(t.tlE,{currentPage:P,perPage:D,setCurrentPage:E,totalCount:null==Z?void 0:Z.totalCount,setPerPage:_,lastPage:!(null==Z?void 0:Z.haveNextPage)})})]})]}),F?(0,a.jsx)("div",{className:"w-full grid md:grid-cols-2  lg:grid-cols-3 admin-gap",children:[...Array(12)].map((e,s)=>(0,a.jsx)(HrExpenseSkeleton,{},s))}):(0,a.jsx)(a.Fragment,{children:(null==Z?void 0:Z.data)&&(null==Z?void 0:null===(e=Z.data)||void 0===e?void 0:e.length)>0?(0,a.jsx)("section",{className:" grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1  gap-6 ",children:null==Z?void 0:null===(s=Z.data)||void 0===s?void 0:s.map((e,s)=>{var l,t,n;return(0,a.jsxs)("div",{className:"bg-white p-5 text-gray-500 flex flex-col gap-2 text-sm rounded-md",children:[(0,a.jsxs)("div",{className:"flex justify-between  pb-5",children:[(0,a.jsx)("img",{src:"https://img.freepik.com/free-psd/3d-illustration-human-avatar-profile_23-2150671116.jpg?w=740&t=st=1696504029~exp=1696504629~hmac=61ab3802cfb8832e7b3c070ff027fd27b04cbab2ed40c4a7288eaae37354a895",alt:"profile",className:"w-20 rounded-full"}),(0,a.jsx)("div",{className:"flex flex-col gap-1  ",children:(0,a.jsx)("button",{className:"px-2 py-1 w-full font-medium text-xs rounded  ".concat((null==e?void 0:e.status)==="HR_APPROVED"?"text-secondary bg-secondary/10":"text-youtube bg-youtube/10"," "),children:(null==e?void 0:e.status)==="HR_APPROVED"?"HR_APPROVED":"HOD_APPROVED"})})]}),(0,a.jsxs)("p",{children:["Name : ",null==e?void 0:null===(l=e.user)||void 0===l?void 0:l.name]}),(0,a.jsxs)("p",{children:["Email : ",null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.email]}),(0,a.jsxs)("p",{children:["Phone : ",null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.phoneNumber]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"cursor-pointer px-2 py-1 bg-twitter rounded text-white hover:underline ",onClick:()=>{k(!0),T(e)},children:"View Details"}),(0,a.jsx)(o.Z,{title:"Approval Staus",children:(0,a.jsx)("button",{onClick:()=>f(!0),className:"text-secondary/90 text-lg cursor-pointer ",children:(0,a.jsx)(p.DkZ,{})})})]})]},s)})}):(0,a.jsx)(t.moz,{title:"No Expense Found"})}),(0,a.jsx)(t.QAJ,{maxWidth:"sm",paperProps:{style:{borderRadius:18}},open:h,onClose:()=>f(!1),children:(0,a.jsx)(n.Z,{closeAssetModel:()=>f(!1)})}),(0,a.jsx)(t.a92,{openDrawer:S,setOpenDrawer:k,data:H})]})})}let HrExpenseSkeleton=()=>(0,a.jsx)("section",{children:(0,a.jsx)("div",{className:"w-full admin-card rounded-md  min-h-[15rem]",children:(0,a.jsxs)("div",{className:"w-full flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full skeleton"}),(0,a.jsx)("div",{className:"w-28 h-6 rounded skeleton"})]}),(0,a.jsxs)("div",{className:"flex justify-start flex-col gap-2",children:[(0,a.jsx)("div",{className:"w-36 h-4 rounded skeleton"}),(0,a.jsx)("div",{className:"w-44 h-4 rounded skeleton"}),(0,a.jsx)("div",{className:"w-32 h-4 rounded skeleton"})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,a.jsx)("div",{className:"w-36 h-7 rounded-md skeleton"}),(0,a.jsx)("div",{className:"w-7 h-7 rounded-md skeleton"})]})]})})})}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=11719)}),_N_E=e.O()}]);