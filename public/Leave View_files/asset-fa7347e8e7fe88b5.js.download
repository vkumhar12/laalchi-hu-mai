(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{8358:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/hr/asset",function(){return l(75928)}])},75928:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return AssetsPage}});var d=l(85893),a=l(50675),n=l(61284),i=l(16631),t=l(90465),c=l(93946),r=l(31383),o=l(11163),m=l.n(o),x=l(67294),u=l(47516),h=l(51649);function AssetsPage(){var e,s;let[l,g]=(0,x.useState)(""),[p,j]=(0,x.useState)(""),[v,N]=(0,x.useState)(0),[f,w]=(0,x.useState)(20),[k,A]=(0,x.useState)(!1),b=(0,x.useDeferredValue)(null==p?void 0:p.trim()),{query:y}=(0,o.useRouter)(),{role:P}=y,_="assets?perPage=".concat(f,"&pageNo=").concat(v,"&isTotalData=true");(null==b?void 0:b.length)>0&&(_+="&search=".concat(b));let{data:S,isValidating:C,mutate:E,error:D}=(0,n.Z)(_);return(0,d.jsx)(i.lq,{title:"All Assets - Admin Panel",children:(0,d.jsxs)("section",{className:"admin-container flex flex-col admin-gap",children:[(0,d.jsx)(a.cIA,{heading:"All Assets",pathArr:(0,t.isl)(P),setIsList:A}),(0,d.jsxs)("div",{className:"admin-bg rounded-lg w-full grid grid-cols-12 gap-4",children:[(0,d.jsx)("div",{className:"lg:col-span-6  col-span-12",children:(0,d.jsx)(a.Nyn,{placeholder:"Search Assets...",setSearchAttribute:j,searchAttribute:p})}),(0,d.jsx)("div",{className:"lg:col-span-6 col-span-12 flex flex-col admin-gap",children:(0,d.jsxs)("div",{className:" flex justify-end  md:justify-start items-center gap-2",children:[(0,d.jsx)(c.Z,{className:"!text-instagram !rounded-md border bg-primary/5",onClick:()=>E(),disabled:C,children:(0,d.jsx)(h.Fer,{className:"text-xl ".concat(C?"animate-spin":"")})}),(0,d.jsx)("button",{disabled:(null==p?void 0:p.length)<=0&&(null==l?void 0:l.length)<=0&&0===v&&20===f,onClick:()=>{g(""),j(""),N(0),w(20)},className:"px-2 py-2 rounded-md w-fit whitespace-nowrap text-xs  ".concat((null==p?void 0:p.length)<=0&&0===v&&(null==l?void 0:l.length)<=0&&20===f?"bg-pink-blue/5 text-pink-blue/40 cursor-not-allowed":"!text-pink-blue ripple bg-pink-blue/10"),children:"Reset All"}),(0,d.jsxs)("div",{className:"w-full  flex gap-2 justify-end items-center",children:[(0,d.jsx)(r.Z,{title:"Add New Asset",children:(0,d.jsx)("div",{onClick:()=>m().push("/panel/".concat(null==y?void 0:y.role,"/hr/asset/add-asset")),className:"flex cursor-pointer justify-center items-center text-xl common-transition text-primary w-10 h-10 rounded-md border bg-primary/5",children:(0,d.jsx)(u.ffM,{})})}),(0,d.jsx)("div",{children:(0,d.jsx)(a.tlE,{currentPage:v,perPage:f,setCurrentPage:N,totalCount:null==S?void 0:S.totalCount,setPerPage:w,lastPage:!(null==S?void 0:S.haveNextPage)})})]})]})})]}),C?k?(0,d.jsx)("div",{className:"flex flex-col gap-4 border items-center justify-center rounded w-full",children:[void 0].map((e,s)=>(0,d.jsx)(AllAssetListDesignSkeleton,{},s))}):(0,d.jsx)("div",{className:"w-full grid md:grid-cols-2 2xl:grid-cols-3 lg:grid-cols-3 admin-gap",children:[...Array(12)].map((e,s)=>(0,d.jsx)(AllAssetCardViewSkeleton,{},s))}):k?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:" hidden md:flex flex-col common-card overflow-hidden",children:[(0,d.jsxs)("div",{className:" grid grid-cols-6 text-sm font-semibold px-5 py-3 bg-pink-blue/70 text-white shadow-lg rounded-t-md",children:[(0,d.jsx)("div",{className:"col-span-1",children:"Image"}),(0,d.jsx)("div",{className:"col-span-1 ",children:"Asset Name"}),(0,d.jsx)("div",{className:"col-span-2",children:"Branch Name"}),(0,d.jsx)("div",{className:"col-span-1",children:"Dept"}),(0,d.jsx)("div",{className:"col-span-1",children:"Action"})]}),(0,d.jsx)("div",{className:"w-full flex flex-col bg-white shadow-shadow-primary rounded-b-md ",children:null==S?void 0:null===(e=S.data)||void 0===e?void 0:e.map((e,s)=>(0,d.jsx)(a.TYn,{curAsset:e,i:s},s))})]})}):(0,d.jsx)("div",{className:"grid 2xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-5 pt-2",children:null==S?void 0:null===(s=S.data)||void 0===s?void 0:s.map((e,s)=>(0,d.jsx)(a.JfA,{curAsset:e},s))})]})})}let AllAssetListDesignSkeleton=()=>(0,d.jsxs)("div",{className:"w-full bg-white rounded min-h-[6rem]",children:[(0,d.jsx)("div",{className:"grid grid-cols-5 gap-2 p-6 skeleton rounded font-semibold "}),(0,d.jsx)("div",{children:Array.from({length:15}).map((e,s)=>(0,d.jsxs)("div",{className:"grid grid-cols-5 gap-2 p-5 rounded-t-md font-semibold",children:[(0,d.jsx)("div",{className:"skeleton col-span-1 w-16 rounded h-16"}),(0,d.jsx)("div",{className:"skeleton w-48 col-span-1 rounded h-8"}),(0,d.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,d.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,d.jsxs)("div",{className:"col-span-1 flex gap-2 ",children:[(0,d.jsx)("div",{className:"h-9 w-9 rounded skeleton"}),(0,d.jsx)("div",{className:"h-9 w-9 rounded skeleton"}),(0,d.jsx)("div",{className:"h-9 w-9 rounded skeleton"})]})]},s))})]}),AllAssetCardViewSkeleton=()=>(0,d.jsxs)("div",{className:"w-full admin-card p-3 md:p-5 min-h-[14rem]",children:[(0,d.jsx)("div",{className:"flex justify-end items-end",children:(0,d.jsx)("div",{className:"w-9 h-9 rounded-lg skeleton items-end"})}),(0,d.jsxs)("div",{className:"w-full flex justify-between flex-col gap-4",children:[(0,d.jsxs)("div",{className:"flex  gap-2",children:[(0,d.jsx)("div",{className:"w-20 h-3 rounded-md skeleton"}),(0,d.jsx)("div",{className:"w-28 h-3 rounded-md skeleton"})]}),(0,d.jsxs)("div",{className:"flex  gap-2",children:[(0,d.jsx)("div",{className:"w-20 h-3 rounded-md skeleton"}),(0,d.jsx)("div",{className:"w-72 h-3 rounded-md skeleton"})]}),(0,d.jsxs)("div",{className:"flex  gap-2",children:[(0,d.jsx)("div",{className:"w-20 h-3 rounded-md skeleton"}),(0,d.jsx)("div",{className:"w-40 h-3 rounded-md skeleton"})]}),(0,d.jsxs)("div",{className:"flex  gap-2",children:[(0,d.jsx)("div",{className:"w-20 h-3 rounded-md skeleton"}),(0,d.jsx)("div",{className:"w-40 h-3 rounded-md skeleton"})]}),(0,d.jsxs)("div",{className:"w-full gap-4 flex justify-between",children:[(0,d.jsx)("div",{className:"w-24 h-9 rounded-lg skeleton items-end"}),(0,d.jsx)("div",{className:"w-12 h-9 rounded-lg skeleton items-end"})]})]})]})}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=8358)}),_N_E=e.O()}]);