(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5088],{90187:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/my-team/team-performance",function(){return s(24345)}])},24345:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return TeamPerformance}});var a=s(85893),t=s(50675),n=s(16631),i=s(96225),r=s(16310),d=s(90465),c=s(42978),m=s(69661),o=s(31383),x=s(56735),u=s(82175),p=s(11163),h=s(67294),j=s(47516),f=s(63750),g=s(51649),v=s(1451),N=s(5434);function TeamPerformance(){let[e,l]=(0,h.useState)(""),[s,r]=(0,h.useState)(""),[x,u]=(0,h.useState)(0),[j,g]=(0,h.useState)(20),[v,y]=(0,h.useState)(!1),{role:b}=(0,p.useRouter)().query,[w,P]=(0,h.useState)(!1),k=[{label:"Filter All",icon:(0,a.jsx)(f.r0X,{}),defaultFunction:()=>y(!0)}],S=[{label:"Download as CSV",icon:(0,a.jsx)(i.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,a.jsx)(i.Bmg,{className:"text-secondary"})}];return(0,a.jsx)(n.lq,{title:"Team Performance",children:(0,a.jsxs)("div",{className:"admin-container flex flex-col admin-gap",children:[(0,a.jsxs)("div",{className:"admin-bg rounded-md flex flex-col items-end justify-end admin-gap",children:[(0,a.jsxs)("div",{className:" rounded-lg w-full grid grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(t.f9m,{setSortingValue:l,sortingSchema:[{key:"2",placeHolder:"Select Employee",name:"sort",type:"select",value:e,initialValue:"",options:[{label:"Ascending",value:"ascending"},{label:"Descending",value:"descending"}]}]})}),(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(t.Nyn,{placeholder:"Search Employee...",setSearchAttribute:r,searchAttribute:s})}),(0,a.jsx)("div",{className:"lg:col-span-4 col-span-12 flex justify-end items-end",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)(t.o6G,{exportArray:S})}),(0,a.jsx)("div",{children:(0,a.jsx)(t._F$,{optionsArray:k})})]})})]}),(0,a.jsx)("div",{className:" flex justify-end items-end",children:(0,a.jsx)(t.tlE,{currentPage:x,perPage:j,setCurrentPage:u,totalCount:20,setPerPage:g,lastPage:!1})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 admin-gap",children:null===d._CW||void 0===d._CW?void 0:d._CW.map((e,l)=>(0,a.jsxs)("section",{className:"admin-card md:h-[21rem] flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("div",{className:"w-fit h-fit",children:(0,a.jsx)(m.Z,{className:"!w-16 bg-gradient-to-b !text-2xl !uppercase !h-16 !border-2 !rounded-tr-lg rounded-tl-lg",src:"",style:{backgroundColor:(0,c.mr)(1.5)},children:null==e?void 0:e.empName[0]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"font-semibold text-lg tracking-wide text-pin-blue",children:null==e?void 0:e.empName}),(0,a.jsxs)("p",{className:"flex items-center gap-1 text-sm font-medium",children:[(0,a.jsx)("span",{className:"",children:"EMP ID : "}),null==e?void 0:e.empId]}),(0,a.jsx)("p",{className:"text-sm",children:null==e?void 0:e.empEmail})]})]}),(null==e?void 0:e.isRating)===!1&&(0,a.jsx)(o.Z,{title:"Give Ratings",children:(0,a.jsx)("div",{className:"flex items-center h-fit gap-1 p-1 cursor-pointer bg-secondary/10 rounded-full",onClick:()=>P(!0),children:(0,a.jsx)(N.h9y,{className:"text-lg text-secondary  "})})})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm text-primary-text",children:"Dept :"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:null==e?void 0:e.department})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm text-primary-text",children:"Des :"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:null==e?void 0:e.designation})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm text-primary-text",children:"Working on :"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:null==e?void 0:e.currentProject})]}),(null==e?void 0:e.isRating)===!0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm text-primary-text",children:"Rating :"}),(0,a.jsx)("p",{className:"text-sm font-medium flex",children:renderStars(null==e?void 0:e.rating)})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,a.jsx)("p",{className:"text-sm text-primary-text",children:"Review: "}),(0,a.jsx)("p",{className:"h-16 w-full border p-1 border-pink-blue/20 rounded-md text-sm",children:null==e?void 0:e.reviews})]})]})]})]},l))}),(0,a.jsx)(t.QAJ,{sx:{borderRadius:30},maxWidth:"sm",paperProps:{style:{borderRadius:18}},open:w,onClose:()=>P(!1),children:(0,a.jsx)(TeamPerformanceModal,{setTeamPerformance:P})})]})})}let renderStars=e=>{let l=Math.floor(e),s=e%1!=0;return(0,a.jsxs)(a.Fragment,{children:[[...Array(l)].map((e,l)=>(0,a.jsx)(j.KQP,{className:"text-yellow-500 text-lg"},l)),s&&(0,a.jsx)(v.cAI,{className:"text-yellow-500 text-lg"})]})},TeamPerformanceModal=e=>{let{setTeamPerformance:l}=e,{ratingReviewSchema:s,ratingReviewSchemaInitialValue:n,ratingReviewSchemaValidation:i}=(0,x._)();return(0,a.jsxs)("section",{className:"p-5 flex flex-col admin-gap",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("p",{className:"text-primary text-center text-xl font-medium",children:"Rating & Reviews"}),(0,a.jsx)("p",{className:"p-1 text-youtube bg-youtube/5 cursor-pointer rounded-full",onClick:()=>{l(!1)},children:(0,a.jsx)(g.QAE,{className:"text-2xl"})})]}),(0,a.jsx)(u.J9,{initialValues:n,validationSchema:r.Ry(i),onSubmit:e=>{console.log("Form Values:",e)},children:e=>(0,a.jsxs)(u.l0,{className:"grid grid-cols-12 gap-4",children:[s.map(l=>(0,a.jsx)(u.gN,{name:l.name,children:s=>(0,a.jsxs)("div",{className:"flex w-full flex-col md:col-span-12 justify-center  ".concat(null==l?void 0:l.className),children:[(0,a.jsxs)("div",{className:"font-medium  ".concat((null==l?void 0:l.key)?"text-dark/80":"text-secondary"),children:[l.label," ",(0,a.jsx)("span",{children:(null==l?void 0:l.required)?"*":""})]}),(null==l?void 0:l.key)?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(t.UPk,{fullWidth:!0,name:null==l?void 0:l.name,type:null==l?void 0:l.type,onChange:s=>{if((null==l?void 0:l.name)==="mediaFile"){var a;e.setFieldValue("mediaFile",null==s?void 0:null===(a=s.target)||void 0===a?void 0:a.files[0])}else e.handleChange(s)},onBlur:e.handleBlur},null==l?void 0:l.key),(0,a.jsxs)("p",{className:"absolute -bottom-5 text-youtube/80 text-sm",children:[!!((null==e?void 0:e.touched[null==l?void 0:l.name])&&(null==e?void 0:e.errors[null==l?void 0:l.name])),(null==e?void 0:e.touched[null==l?void 0:l.name])&&(null==e?void 0:e.errors[null==l?void 0:l.name])]})]}):""]})},l.key)),(0,a.jsx)("div",{className:"col-span-12 flex justify-center items-center",children:(0,a.jsx)("button",{type:"submit",className:"!bg-pink-blue text-white py-3 px-4 font-medium rounded-md w-full h-fit whitespace-nowrap",children:"Submit"})})]})})]})}}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=90187)}),_N_E=e.O()}]);