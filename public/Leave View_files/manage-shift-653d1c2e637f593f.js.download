(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3021],{802:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/config/manage-shift",function(){return s(98582)}])},98582:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return ManageShift}});var d=s(85893),a=s(50675),n=s(61284),i=s(16631),t=s(90465),o=s(31383),r=s(11163),c=s(67294),u=s(8193);function ManageShift(){var e,l,s,m,h;let[x,v]=(0,c.useState)(""),[f,j]=(0,c.useState)(""),[p,g]=(0,c.useState)(!1),[N,w]=(0,c.useState)(0),[k,S]=(0,c.useState)(!1),[b,y]=(0,c.useState)(20),_=(0,c.useDeferredValue)(null==f?void 0:f.trim()),{push:P,query:A}=(0,r.useRouter)(),{role:E}=A,M="shift?perPage=".concat(b,"&pageNo=").concat(N,"&isTotalData=true");(null==_?void 0:_.length)>0&&(M+="&search=".concat(_)),x&&(M+="&shiftName=".concat(x));let{data:C,isValidating:D,mutate:F}=(0,n.Z)(M),L=[];return(null==C?void 0:C.data)&&(null==C?void 0:null===(e=C.data)||void 0===e?void 0:e.length)>0&&(null==C||null===(h=C.data)||void 0===h||h.map(e=>{var l;return L.push({value:null==e?void 0:null===(l=e._id)||void 0===l?void 0:l.$oid,label:null==e?void 0:e.shiftName})})),(0,d.jsx)(i.lq,{title:"Manage Shift",children:(0,d.jsxs)("section",{className:"admin-container flex flex-col admin-gap",children:[(0,d.jsx)(a.cIA,{heading:"Manage Shift",pathArr:(0,t.uv4)(E),setIsList:S}),(0,d.jsx)("div",{className:"admin-bg rounded-lg w-full grid grid-cols-12 gap-4",children:(0,d.jsx)("div",{className:"col-span-12",children:(0,d.jsxs)("div",{className:" flex  flex-row justify-end items-center gap-2 md:gap-3",children:[(0,d.jsx)("div",{className:"w-fit order-1 md:order-2",children:(0,d.jsx)(a.tlE,{currentPage:N,perPage:b,setCurrentPage:w,totalCount:null==C?void 0:C.totalCount,setPerPage:y,lastPage:!(null==C?void 0:C.haveNextPage)})}),(0,d.jsx)("div",{className:"flex justify-end items-end",onClick:()=>g(!0),children:(0,d.jsx)(o.Z,{title:"Add Shift",children:(0,d.jsx)("div",{className:"flex justify-center items-center text-xl text-pink-blue w-10 h-10 rounded-md border border-pink-blue bg-pink-blue/5 cursor-pointer",children:(0,d.jsx)(u.Lfi,{})})})})]})})}),D?k?(0,d.jsx)("div",{className:"flex flex-col gap-4 border items-center justify-center rounded w-full",children:[void 0].map((e,l)=>(0,d.jsx)(ManageShiftListDesignSkeleton,{},l))}):(0,d.jsx)("div",{className:"w-full grid md:grid-cols-2 lg:grid-cols-3 grid-cols-1 admin-gap",children:[...Array(15)].map((e,l)=>(0,d.jsx)(ShiftSkeleton,{},l))}):k?(0,d.jsx)("div",{className:"max-w-full overflow-x-scroll scroll-bar-none",children:(0,d.jsxs)("div",{className:" flex flex-col min-w-[55rem]",children:[(0,d.jsxs)("div",{className:" grid grid-cols-7 text-sm font-semibold px-5 py-3 bg-pink-blue/70 text-white shadow-lg rounded-t-md",children:[(0,d.jsx)("div",{className:"col-span-1",children:"Sl no."}),(0,d.jsx)("div",{className:"col-span-1 ",children:"Shift Name"}),(0,d.jsx)("div",{className:"col-span-1",children:"Employee Type"}),(0,d.jsx)("div",{className:"col-span-1",children:"Shift Start"}),(0,d.jsx)("div",{className:"col-span-1",children:"Shift End"}),(0,d.jsx)("div",{className:"col-span-1",children:"Weekly OFF"}),(0,d.jsx)("div",{className:"col-span-1",children:"Action"})]}),(0,d.jsx)("div",{className:"w-full flex flex-col bg-white shadow-shadow-primary rounded-b-md ",children:null==C?void 0:null===(l=C.data)||void 0===l?void 0:l.map((e,l)=>(0,d.jsx)(a.YMc,{data:e,i:l,mutate:F},l))})]})}):(0,d.jsx)(d.Fragment,{children:(null==C?void 0:C.data)&&(null==C?void 0:null===(s=C.data)||void 0===s?void 0:s.length)>0?(0,d.jsx)("div",{className:"w-full grid md:grid-cols-2 lg:grid-cols-3 grid-cols-1 admin-gap",children:null==C?void 0:null===(m=C.data)||void 0===m?void 0:m.map((e,l)=>(0,d.jsx)(a.DK5,{data:e,mutate:F},l))}):(0,d.jsx)(a.moz,{title:"No Shift Found"})}),(0,d.jsx)(a.QAJ,{maxWidth:"md",paperProps:{style:{borderRadius:18}},open:p,onClose:()=>g(!1),children:(0,d.jsx)(a.opF,{setOpenAddShiftModal:g,mutate:F})})]})})}let ShiftSkeleton=()=>(0,d.jsxs)("div",{className:"w-full admin-card p-3 md:p-5 min-h-[11rem] flex justify-between items-end",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"w-16 h-16 rounded-md skeleton"}),(0,d.jsxs)("div",{className:"flex flex-col gap-2 justify-center",children:[(0,d.jsx)("div",{className:"w-10 h-6 rounded skeleton"}),(0,d.jsx)("div",{className:"w-28 h-3 rounded skeleton"})]})]}),(0,d.jsx)("div",{className:"w-32 h-3 rounded skeleton"}),(0,d.jsx)("div",{className:"w-56 h-3 rounded skeleton"}),(0,d.jsx)("div",{className:"w-52 h-3 rounded skeleton"}),(0,d.jsx)("div",{className:"w-36 h-3 rounded skeleton"})]}),(0,d.jsx)("div",{className:"w-10 h-10 skeleton rounded-t-full rounded-br-full"})]}),ManageShiftListDesignSkeleton=()=>(0,d.jsxs)("div",{className:"w-full bg-white rounded min-h-[6rem] min-w-[55rem]",children:[(0,d.jsx)("div",{className:"grid grid-cols-7 gap-2 p-6 skeleton rounded font-semibold "}),(0,d.jsx)("div",{children:Array.from({length:15}).map((e,l)=>(0,d.jsxs)("div",{className:"grid grid-cols-7 gap-2 p-5 rounded-t-md font-semibold",children:[(0,d.jsx)("div",{className:"skeleton col-span-1 w-6 rounded h-5"}),(0,d.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,d.jsx)("div",{className:"skeleton w-28 col-span-1 rounded h-7"}),(0,d.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,d.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,d.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,d.jsx)("div",{className:"col-span-1 flex gap-2 ",children:(0,d.jsx)("div",{className:"h-7 w-7 rounded-t-full rounded-br-full skeleton"})})]},l))})]})}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=802)}),_N_E=e.O()}]);