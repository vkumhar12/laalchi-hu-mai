(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{58912:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/my-details/my-loans",function(){return l(81223)}])},81223:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return MyLoans}});var a=l(85893),n=l(50675),d=l(83342),i=l(61284),t=l(16631),o=l(90465),c=l(31383),r=l(11163),m=l.n(r),x=l(67294),u=l(63750),p=l(51649),h=l(96225);function MyLoans(){var e,s;let[l,v]=(0,x.useState)(""),[j,N]=(0,x.useState)(""),{role:f}=(0,r.useRouter)().query,[g,y]=(0,x.useState)(0),[w,b]=(0,x.useState)(20),[k,L]=(0,x.useState)(!1),[S,A]=(0,x.useState)(!1),[E,T]=(0,x.useState)(!1),P=[{label:"Filter All",icon:(0,a.jsx)(u.r0X,{}),defaultFunction:()=>L(!0)}],C=[{label:"Download as CSV",icon:(0,a.jsx)(h.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,a.jsx)(h.Bmg,{className:"text-secondary"})}],{data:_,mutate:M,isValidating:R}=(0,i.Z)("loan/user-loan-request");return(0,a.jsx)(t.lq,{title:"My Loans",children:(0,a.jsxs)("section",{className:"admin-container flex flex-col admin-gap",children:[(0,a.jsxs)("div",{className:" flex flex-col admin-gap",children:[(0,a.jsx)(n.cIA,{heading:"My Loans",pathArr:(0,o.BeD)(f),setIsList:T}),(0,a.jsxs)("div",{className:"admin-bg rounded-md w-full grid grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(n.f9m,{setSortingValue:N,sortingSchema:[{key:"1",placeHolder:"Select Loan",name:"sort",type:"select",value:j,initialValue:"",options:[{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Rejected",value:"rejected"}]}]})}),(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(n.Nyn,{placeholder:"Search loan...",setSearchAttribute:v,searchAttribute:l})}),(0,a.jsxs)("div",{className:"lg:col-span-4 col-span-12 flex flex-col admin-gap",children:[(0,a.jsxs)("div",{className:"flex justify-end items-end gap-2",children:[(0,a.jsx)(c.Z,{title:"Request for Loan",children:(0,a.jsx)("div",{className:"flex justify-center items-center text-xl cursor-pointer common-transition text-primary w-10 h-10 rounded-md border bg-primary/5",onClick:()=>A(!0),children:(0,a.jsx)(p.gyF,{className:"text-2xl font-medium"})})}),(0,a.jsx)("div",{children:(0,a.jsx)(n.o6G,{exportArray:C})}),(0,a.jsx)("div",{children:(0,a.jsx)(n._F$,{optionsArray:P})})]}),(0,a.jsx)("div",{className:"lg:col-span-6 col-span-12 flex gap-4  justify-end items-center",children:(0,a.jsx)(n.tlE,{currentPage:g,perPage:w,setCurrentPage:y,totalCount:20,setPerPage:b,lastPage:!1})})]})]})]}),R?E?(0,a.jsx)("div",{className:"flex flex-col gap-4 border items-center justify-center rounded w-full",children:[void 0].map((e,s)=>(0,a.jsx)(MyLoanListDesignSkeleton,{},s))}):(0,a.jsx)("div",{className:"w-full grid md:grid-cols-2 lg:grid-cols-4 grid-cols-1 admin-gap",children:[...Array(15)].map((e,s)=>(0,a.jsx)(MyLoansCardSkeleton,{},s))}):E?(0,a.jsx)("div",{className:"max-w-full overflow-x-scroll scroll-bar-none",children:(0,a.jsxs)("div",{className:" flex flex-col min-w-[55rem]",children:[(0,a.jsxs)("div",{className:" grid grid-cols-7 text-sm font-semibold px-5 py-3 bg-pink-blue/70 text-white shadow-lg rounded-t-md",children:[(0,a.jsx)("div",{className:"col-span-1",children:"Sl no."}),(0,a.jsx)("div",{className:"col-span-1 ",children:"Loan Name"}),(0,a.jsx)("div",{className:"col-span-1",children:"Loan Amount"}),(0,a.jsx)("div",{className:"col-span-1",children:"EMI Amount"}),(0,a.jsx)("div",{className:"col-span-1",children:"EMI Type"}),(0,a.jsx)("div",{className:"col-span-1",children:"Status"}),(0,a.jsx)("div",{className:"col-span-1",children:"Action"})]}),(0,a.jsx)("div",{className:"w-full flex flex-col bg-white shadow-shadow-primary rounded-b-md ",children:null==_?void 0:null===(e=_.LoanRequest)||void 0===e?void 0:e.map((e,s)=>{var l,n;return(0,a.jsxs)("div",{className:"grid items-center grid-cols-7 p-3 ".concat(s%2==0?"":"bg-primary/5 border-y"),children:[(0,a.jsx)("div",{className:"ml-5",children:s+1}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"text-lg font-medium text-primary-text",children:null==e?void 0:null===(l=e.loanType)||void 0===l?void 0:l.name}),(0,a.jsx)("div",{className:"text-sm font-medium",children:null==e?void 0:null===(n=e.loanType)||void 0===n?void 0:n.interestType})]}),(0,a.jsx)("div",{children:null==e?void 0:e.amount}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{className:" text-sm px-2 py-1 rounded-md font-medium ".concat((null==e?void 0:e.status)==="APPROVE"?"text-whatsapp ":(null==e?void 0:e.status)==="REJECT"?"text-pinterest ":"text-linkedin"," "),children:null==e?void 0:e.status}),(0,a.jsx)(c.Z,{title:"Details",children:(0,a.jsx)("div",{onClick:()=>{var s;return m().push("/panel/".concat(f,"/my-details/my-loans/").concat(null==e?void 0:null===(s=e.loanType)||void 0===s?void 0:s.name))},className:" w-fit bg-gradient-to-r cursor-pointer from-blue-500 via-sky-400  to-cyan-300 rounded-br-md rounded-bl-md p-2 text-white",children:(0,a.jsx)("div",{className:"flex gap-2 items-center justify-center",children:(0,a.jsx)(u.nGt,{className:"text-lg"})})})})]},s)})})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 admin-gap",children:null==_?void 0:null===(s=_.LoanRequest)||void 0===s?void 0:s.map((e,s)=>{var l,n;return(0,a.jsxs)("div",{className:"bg-white rounded-md shadow-md",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 p-4",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Name :"}),(0,a.jsx)("p",{className:"font-medium",children:null==e?void 0:null===(l=e.loanType)||void 0===l?void 0:l.name})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Loan Type :"}),(0,a.jsx)("p",{className:"font-medium",children:null==e?void 0:null===(n=e.loanType)||void 0===n?void 0:n.interestType})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Loan Amount :"}),(0,a.jsx)("p",{className:"font-medium",children:null==e?void 0:e.amount})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Emi Amount :"}),(0,a.jsx)("p",{className:"font-medium"})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Emi Type :"}),(0,a.jsx)("p",{className:"font-medium"})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:"Status :"}),(0,a.jsx)("div",{className:" text-sm px-2 py-1 rounded-md font-medium ".concat((null==e?void 0:e.status)==="APPROVE"?"text-whatsapp ":(null==e?void 0:e.status)==="REJECT"?"text-pinterest ":"text-linkedin"," "),children:null==e?void 0:e.status})]})]}),(0,a.jsx)("div",{onClick:()=>{var s;return m().push("/panel/".concat(f,"/my-details/my-loans/").concat(null==e?void 0:null===(s=e.loanType)||void 0===s?void 0:s.name))},className:" cursor-pointer bg-gradient-to-r from-blue-500 via-sky-400  to-cyan-300 rounded-br-md rounded-bl-md p-2 text-white",children:(0,a.jsxs)("div",{className:"flex gap-2 items-center justify-center ",children:[(0,a.jsx)(u.nGt,{className:"text-lg"}),(0,a.jsx)("p",{className:"text-sm",children:"Details"})]})})]},s)})}),(0,a.jsx)(n.QAJ,{maxWidth:"sm",sx:{borderRadius:10},open:S,onClose:()=>A(!1),children:(0,a.jsx)(d.Gy,{setOpenAddLoanModal:A})})]})})}let MyLoansCardSkeleton=()=>(0,a.jsxs)("div",{className:"w-full bg-white relative p-3 md:p-5 min-h-[13rem] rounded-md flex justify-between items-end",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 absolute top-5",children:[(0,a.jsx)("div",{className:"w-28 h-3 rounded skeleton"}),(0,a.jsx)("div",{className:"w-28 h-3 rounded skeleton"}),(0,a.jsx)("div",{className:"w-32 h-3 rounded skeleton"}),(0,a.jsx)("div",{className:"w-56 h-3 rounded skeleton"}),(0,a.jsx)("div",{className:"w-52 h-3 rounded skeleton"}),(0,a.jsx)("div",{className:"w-52 h-3 rounded skeleton"})]}),(0,a.jsx)("div",{className:"w-full h-10 absolute bottom-0 left-0 right-0 skeleton"})]}),MyLoanListDesignSkeleton=()=>(0,a.jsxs)("div",{className:"w-full bg-white rounded min-h-[6rem] min-w-[55rem]",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2 p-6 skeleton rounded font-semibold "}),(0,a.jsx)("div",{children:Array.from({length:15}).map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-2 p-5 rounded-t-md font-semibold",children:[(0,a.jsx)("div",{className:"skeleton col-span-1 w-7 rounded h-7"}),(0,a.jsx)("div",{className:"skeleton w-24 col-span-1 rounded h-12"}),(0,a.jsx)("div",{className:"skeleton w-28 col-span-1 rounded h-7"}),(0,a.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,a.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,a.jsx)("div",{className:"skeleton w-20 col-span-1 rounded h-7"}),(0,a.jsx)("div",{className:"col-span-1 flex gap-2 ",children:(0,a.jsx)("div",{className:"h-9 w-9 rounded-br-md rounded-bl-md skeleton"})})]},s))})]})}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,3342,9774,2888,179],function(){return e(e.s=58912)}),_N_E=e.O()}]);