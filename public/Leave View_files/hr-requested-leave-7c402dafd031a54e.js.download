(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{87587:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/[role]/all-leave/hr-requested-leave",function(){return s(77870)}])},77870:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return HrRequestedLeavePage}});var a=s(85893),d=s(50675),n=s(91362),i=s(61284),t=s(16631),o=s(90465),r=s(11163),c=s(67294),u=s(63750),m=s(96225);function HrRequestedLeavePage(){var e,l,s;let[x,v]=(0,c.useState)(""),[p,h]=(0,c.useState)(""),[j,g]=(0,c.useState)(0),[f,N]=(0,c.useState)(20),[w,b]=(0,c.useState)(!1),{role:k}=(0,r.useRouter)().query,[y,S]=(0,c.useState)(!1),{query:L}=(0,r.useRouter)(),{user:P}=(0,n.Z)(),{data:A,isValidating:_,mutate:F}=(0,i.Z)("apply-leave?employeeStatus=Pending"),D=[{label:"Filter All",icon:(0,a.jsx)(u.r0X,{}),defaultFunction:()=>b(!0)}],E=[{label:"Download as CSV",icon:(0,a.jsx)(m.F6R,{className:"text-primary"})},{label:"Download as PDF",icon:(0,a.jsx)(m.Bmg,{className:"text-secondary"})}];return(0,a.jsxs)(t.lq,{title:"All Requested Pages",children:[(0,a.jsx)(d.VE2,{openFilterDrawer:w,setOpenFilterDrawer:b,allFilterArr:[{title:"Select Filter Type",data:[{label:"Last 7 Days",value:"last7days"},{label:"Last Week",value:"lastWeek"},{label:"This Month",value:"thisMonth"},{label:"Last 30 Days",value:"last30days"},{label:"Last Month",value:"lastMonth"}]}]}),(0,a.jsxs)("section",{className:"admin-container flex flex-col admin-gap",children:[(0,a.jsx)(d.cIA,{heading:"Requested Leaves",pathArr:(0,o.kct)(k),setIsList:S}),(0,a.jsxs)("div",{className:"admin-bg rounded-lg w-full grid grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(d.f9m,{setSortingValue:v,sortingSchema:[{key:"2",placeHolder:"Select Type Of Leave",name:"sort",type:"select",value:x,initialValue:"",options:[{label:"Paid",value:"paid"},{label:"Unpaid",value:"unpaid"},{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Rejected",value:"rejected"},{label:"Past Leave",value:"pastLeave"}]}]})}),(0,a.jsx)("div",{className:"lg:col-span-4 md:col-span-6 col-span-12",children:(0,a.jsx)(d.Nyn,{placeholder:"Search Employee...",setSearchAttribute:h,searchAttribute:p})}),(0,a.jsx)("div",{className:"lg:col-span-4 col-span-12 flex justify-end items-end",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)(d.o6G,{exportArray:E})}),(0,a.jsx)("div",{children:(0,a.jsx)(d._F$,{optionsArray:D})})]})})]}),(0,a.jsx)("div",{className:"flex justify-end items-end",children:(0,a.jsx)(d.tlE,{currentPage:j,perPage:f,setCurrentPage:g,totalCount:20,setPerPage:N,lastPage:!1})}),_?y?(0,a.jsx)("div",{className:"flex flex-col gap-4 border items-center justify-center rounded w-full",children:[void 0].map((e,l)=>(0,a.jsx)(LeaveListDesignSkeleton,{},l))}):(0,a.jsx)("div",{className:"w-full grid md:grid-cols-2 lg:grid-cols-3 admin-gap",children:[...Array(10)].map((e,l)=>(0,a.jsx)(LeaveSkeleton,{},l))}):y?(0,a.jsx)("div",{className:"max-w-full overflow-x-scroll scroll-bar-none",children:(0,a.jsxs)("div",{className:" flex flex-col min-w-[55rem]",children:[(0,a.jsxs)("div",{className:" grid grid-cols-7 text-sm font-semibold px-5 py-3 bg-pink-blue/70 text-white shadow-lg rounded-t-md",children:[(0,a.jsx)("div",{className:"col-span-1",children:"Sl no."}),(0,a.jsx)("div",{className:"col-span-2 ",children:"Employee Name"}),(0,a.jsx)("div",{className:"col-span-1",children:"Applied On"}),(0,a.jsx)("div",{className:"col-span-2",children:"Leave On"}),(0,a.jsx)("div",{className:"col-span-1",children:"Action"})]}),(0,a.jsx)("div",{className:"w-full flex flex-col bg-white shadow-shadow-primary rounded-b-md ",children:null==A?void 0:null===(e=A.data)||void 0===e?void 0:e.map((e,l)=>(0,a.jsx)(d._d3,{data:e,i:l,mutate:F},l))})]})}):(0,a.jsx)(a.Fragment,{children:(null==A?void 0:A.data)&&(null==A?void 0:null===(l=A.data)||void 0===l?void 0:l.length)>0?(0,a.jsx)("div",{className:"w-full grid md:grid-cols-2 lg:grid-cols-3 admin-gap",children:null==A?void 0:null===(s=A.data)||void 0===s?void 0:s.map((e,l)=>(0,a.jsx)(d.sIX,{data:e,mutate:F},l))}):(0,a.jsx)(d.moz,{title:"No Data Found"})})]})]})}let LeaveSkeleton=()=>(0,a.jsx)("section",{className:"",children:(0,a.jsxs)("div",{className:"flex flex-col bg-white rounded-md shadow-md  gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center p-2",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-full skeleton"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"w-44 h-2 rounded-md skeleton"}),(0,a.jsx)("div",{className:"w-32 h-2 rounded-md skeleton"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 px-4",children:[(0,a.jsx)("div",{className:"w-full h-4 rounded-md skeleton"}),(0,a.jsx)("div",{className:"w-full h-4 rounded-md skeleton"})]}),(0,a.jsx)("div",{className:"w-full h-10 rounded-md skeleton"})]})}),LeaveListDesignSkeleton=()=>(0,a.jsxs)("div",{className:"w-full bg-white rounded min-h-[6rem] min-w-[55rem]",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2 p-6 skeleton rounded font-semibold "}),(0,a.jsx)("div",{children:Array.from({length:15}).map((e,l)=>(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-2 p-5 rounded-t-md font-semibold",children:[(0,a.jsx)("div",{className:"skeleton col-span-1 w-8 rounded h-8"}),(0,a.jsx)("div",{className:"skeleton w-44 col-span-2 rounded h-12"}),(0,a.jsx)("div",{className:"skeleton w-28 col-span-1 rounded h-7"}),(0,a.jsx)("div",{className:"skeleton w-44 col-span-2 rounded h-7"}),(0,a.jsx)("div",{className:"col-span-1 flex gap-2 ",children:(0,a.jsx)("div",{className:"h-11 w-11 rounded-md skeleton"})})]},l))})]})}},function(e){e.O(0,[4980,3415,7627,8907,4774,1228,2013,1778,5937,5445,260,3874,4617,9570,1827,6158,955,9866,1057,2876,4090,9401,1086,7237,6556,8166,3777,6601,675,6631,9774,2888,179],function(){return e(e.s=87587)}),_N_E=e.O()}]);